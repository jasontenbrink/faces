!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(1),o=n(r),s=i(12),a=n(s),l=i(21),d=n(l),c=angular.module("app",["ngAnimate","ngRoute","ngMaterial","ui.grid","ui.grid.selection","ui.grid.exporter","ui.grid.edit"]);c.config(["$routeProvider","$httpProvider","$mdThemingProvider",function(e,t,i){t.interceptors.push("AuthenticationRedirectInjector"),e.when("/directory",{templateUrl:"assets/views/routes/directory.html",controller:"DirectoryController"}).when("/home",{templateUrl:"assets/views/routes/home.html",controller:"HomeController"}).when("/individualDatacard",{templateUrl:"assets/views/routes/individual-datacard.html",controller:"IndividualDatacardController"}).when("/family",{templateUrl:"assets/views/routes/family.html",controller:"FamilyDatacardController"}).when("/make-families",{templateUrl:"assets/views/routes/make-families.html",controller:"MakeFamiliesController"}).when("/edit-family",{templateUrl:"assets/views/routes/edit-family.html",controller:"EditFamilyController"}).when("/login",{templateUrl:"assets/views/routes/login.html",controller:"LoginController"}).when("/register",{templateUrl:"assets/views/routes/register.html",controller:"RegisterController"}).when("/admin",{templateUrl:"assets/views/routes/admin.html",controller:"AdminController"}).otherwise({redirectTo:"/login",templateUrl:"assets/views/routes/login.html",controller:"LoginController"}),i.theme("default").primaryPalette("indigo",{"hue-1":"50","hue-2":"700","hue-3":"900"}).accentPalette("grey",{"hue-1":"50","hue-2":"700","hue-3":"900"})}]),(0,d.default)(),(0,a.default)(),(0,o.default)()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(2),o=n(r),s=i(3),a=n(s),l=i(4),d=n(l),c=i(5),u=n(c),f=i(6),m=n(f),p=i(7),g=n(p),v=i(8),y=n(v),h=i(9),b=n(h),A=i(10),_=n(A),M=i(11),F=n(M);t.default=function(){angular.module("app").controller("DirectoryController",o.default).controller("AdminController",a.default).controller("CreateFamilyController",d.default).controller("EditFamilyController",u.default).controller("FamilyDatacardController",m.default).controller("IndividualDatacardController",g.default).controller("LoginController",y.default).controller("MakeFamiliesController",b.default).controller("NavController",_.default).controller("RegisterController",F.default)}},function(e,t){"use strict";function i(e,t,i,n,r,o,s){var a=t,l=o,d=s;e.sendSelectedMemberInfo=function(e){a.assignActiveMemberId(e)},e.deleteMember=function(t){confirm("are you sure you want to delete "+t)&&l.deleteMember(t).then(function(t){for(var i=e.gridOptions.data,n=0;n<i.length;n++)i[n].pin==t&&e.gridOptions.data.splice(n,1)}).catch(function(e){console.log(e)})},e.gridOptions={columnDefs:[{field:"first_name",displayName:"First Name",cellTemplate:'<a ng-click="grid.appScope.sendSelectedMemberInfo(row.entity.pin)" href="#/individualDatacard">{{COL_FIELD}}</a>',enableCellEdit:!0,sort:{direction:i.ASC,priority:2}},{field:"last_name",displayName:"Last Name",sort:{direction:i.ASC,priority:1}},{field:"email",displayName:"Email"},{field:"gender",displayName:"Gender",enableCellEdit:!0,visible:!1},{field:"age",displayName:"Age",visible:!1},{field:"electronic_newsletter",displayName:"Electronic Newsletter",type:"boolean",visible:!1},{field:"primary_phone_number",displayName:"1st Phone Number"},{field:"secondary_phone_number",displayName:"2nd Phone Number",visible:!1},{field:"admin_notes",displayName:"Administrator Notes",cellTooltip:!0,visible:!1},{field:"street",displayName:"Street",enableCellEdit:!1},{field:"state",displayName:"State",enableCellEdit:!1},{field:"zip",displayName:"ZIP",enableCellEdit:!1},{field:"delete button",displayName:" ",cellTemplate:'<i ng-click="grid.appScope.deleteMember(row.entity.pin)" class="material-icons" style="color: rgb(104, 152, 233); cursor: pointer">delete</i>',visible:!0},{field:"pin",visible:!1},{field:"address_id",visible:!1}],enableFullRowSelection:!0,onRegisterApi:function(t){e.gridApi=t,t.edit.on.afterCellEdit(e,function(e,t,i,n){l.updateMember({pin:e.pin,last_name:e.last_name,first_name:e.first_name,electronic_newsletter:e.electronic_newsletter,gender:e.gender,admin_notes:e.admin_notes,age:e.age,email:e.email,primary_phone_number:e.primary_phone_number,secondary_phone_number:e.secondary_phone_number}).then(function(e){}),d.updateAddress({address_id:e.address_id,street:e.street,zip:e.zip,state:e.state}).then(function(e){console.log("update address",e.data)}).catch(function(e){console.log(e)})})}},e.isActive=[!0,!0,!0,!1,!1,!1,!0,!1,!1,!0,!0,!0,!1,!1],e.toggleVisible=function(t){e.gridOptions.columnDefs[t].visible=!e.isActive[t],e.gridApi.core.notifyDataChange(i.dataChange.COLUMN)},e.openDialogue=function(t){var i=angular.element(document.body);r.show({parent:i,targetEvent:t,scope:e,clickOutsideToClose:!0,preserveScope:!0,templateUrl:"assets/views/directives/column-options-modal.html"})},e.export=function(){e.gridApi.exporter.csvExport("visible","visible")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$scope","DataService","uiGridConstants","$timeout","$mdDialog","MemberService","AddressService"]},function(e,t){"use strict";function i(e){var t=["profilePage","joinFamilyPage","addressPage","registrationFinished"],i=0;e.activePage=t[i],e.nextPage=function(){i<3?i++:i=0,e.activePage=t[i]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$scope"]},function(e,t){"use strict";function i(e,t,i){function n(e,t){for(var i=0;i<e.length;i++)if(e[i].pin===t)return!0;return!1}e.people=[],e.createFamily=function(){var t=e.people;i.post("/data/family",t).then(function(e){console.log("response after making a family: ",e.data)})},e.gridOptions={columnDefs:[{field:"first_name",sort:{direction:t.ASC,priority:1}},{field:"last_name",sort:{direction:t.ASC,priority:2}},{field:"email"},{field:"phone"},{field:"pin",visible:!1}],enableFullRowSelection:!0},e.gridOptions.onRegisterApi=function(t){e.gridApi=t,t.selection.on.rowSelectionChanged(e,function(t){var i="row selected "+t.isSelected;console.log("object to be inserted into the family: ",t.entity),t.isSelected&&!n(e.people,t.entity.pin)?e.people.push(t.entity):e.removeFromFamily(t.entity.pin),console.log(i)})},e.removeFromFamily=function(t){for(var i=0;i<e.people.length;i++)e.people[i].pin===t&&e.people.splice(i,1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$scope","uiGridConstants","$http"]},function(e,t){"use strict";function i(e,t,i,o,s){e.searchObject=new n;var a=t;void 0===a.familyData()?a.retrieveFamilyData().then(function(t){e.family=a.familyData().family,e.people=a.familyData().people}):(console.log("dataService.familyData",a.familyData()),e.family=a.familyData().family,e.people=a.familyData().people,console.log("resulting people in family from db, ",e.people),console.log("what is in the family object? ",e.family)),e.updateFamily=function(){var t={people:e.people,family:e.family};s.post("/data/family/update",t).then(function(e){console.log("response after making a family: ",e)})},e.gridOptions={columnDefs:[{field:"first_name",sort:{direction:i.ASC,priority:1}},{field:"last_name",sort:{direction:i.ASC,priority:2}},{field:"email"},{field:"phone"},{field:"pin",visible:!1}],enableFullRowSelection:!0},e.gridOptions.onRegisterApi=function(t){e.gridApi=t,t.selection.on.rowSelectionChanged(e,function(t){var i="row selected "+t.isSelected;console.log("object to be inserted into the family: ",t.entity),t.isSelected&&!r(e.people,t.entity.pin)?e.people.push(t.entity):e.removeFromFamily(t.entity.pin),console.log(i)})},e.getQuery=function(){console.log("heading out from controller",e.searchObject),a.retrieveData(e.searchObject).then(function(){e.searchResults=a.peopleData(),e.gridOptions.data=e.searchResults})},e.removeFromFamily=function(t){for(var i=0;i<e.people.length;i++)e.people[i].pin===t&&e.people.splice(i,1)},o(function(){angular.element(document).find("nav").triggerHandler("click")},0)}function n(){this.first_name="",this.last_name="",this.email="",this.phone=""}function r(e,t){for(var i=0;i<e.length;i++)if(e[i].pin===t)return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$scope","DataService","uiGridConstants","$timeout","$http"]},function(e,t){"use strict";function i(e,t){var i=t;e.updateActiveMemberId=function(e){console.log("from familyDC, set active memberID to:",e),i.assignActiveMemberId(e)},i.retrieveFamilyData().then(function(){e.family=i.familyData().family,e.people=i.familyData().people,console.log("resulting people in family from db, ",e.people)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$scope","DataService"]},function(e,t){"use strict";function i(e,t,i,n,r,o){e.columnWidth=20,e.columnSpacing="3",e.addNewAddress=!1,e.familyMembersAddresses=[],e.familyMembersAddressToBeAdded={};var s,a=t,l=i;e.updateActiveFamilyId=function(e){a.assignActiveFamilyIdApi(e)},e.data={selectedIndex:0},e.next=function(){e.data.selectedIndex=Math.min(e.data.selectedIndex+1,2)},e.previous=function(){e.data.selectedIndex=Math.max(e.data.selectedIndex-1,0)},e.nextPage=function(){console.log("nextPage")},e.activate=function(){a.retrieveActiveMember().then(function(){s=a.memberData(),e.member=a.memberData().individual,e.addresses=a.memberData().addresses;var t=a.memberData().families;e.families=t;var i=Object.assign(s.individual,{families:t},{addresses:s.addresses});l.setRegisteringMember(i),e.familyMembersAddresses=[]})},e.activate(),e.determineWhichAddressWizardToShow=function(){e.familyMembersAddresses.length>0?e.isAddingFamilyAddress=!e.isAddingFamilyAddress:e.addNewAddress=!e.addNewAddress},e.$on("submitAddressForm",function(t,i){e.addNewAddress=!e.addNewAddress}),e.$on("addAddressFromFamily",function(t,i){e.addNewAddress=!1,e.isAddingFamilyAddress=!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$scope","DataService","MemberService","FamilyService","AddressService","$q"]},function(e,t){"use strict";function i(e,t,i){e.isLoggingIn=!1,e.user={},e.submitCredentials=function(){e.isLoggingIn=!0,console.log("data sent to server",e.user),t.post("/login",e.user).then(function(t){e.isLoggingIn=!1,console.log("response is",t),200===t.status?i.path("/directory"):alert("sign in failed")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$scope","$http","$location"]},function(e,t){"use strict";function i(e,t,i,r,o){e.searchObject=new n,e.searchResults=[],e.family=[];var s=t;e.sendSelectedMemberInfo=function(e){console.log("MAKE FAMILIES!!!!   this is the grid id",e),s.assignActiveMemberId(e)},e.gridOptions={columnDefs:[{field:"first_name",cellTemplate:'<a ng-click="grid.appScope.sendSelectedMemberInfo(row.entity.pin)" href="#/individualDatacard">{{COL_FIELD}}</a>',sort:{direction:i.ASC,priority:1}},{field:"last_name",sort:{direction:i.ASC,priority:2}},{field:"email"},{field:"phone"},{field:"pin",visible:!1}],enableFullRowSelection:!0},e.gridOptions.onRegisterApi=function(t){e.gridApi=t,t.selection.on.rowSelectionChanged(e,function(t){var i="row selected "+t.isSelected;console.log(t.entity),t.isSelected?e.family.push(t.entity):e.removeFromFamily(t.entity.pin),console.log(i)})},e.removeFromFamily=function(t){for(var i=0;i<e.family.length;i++)e.family[i].pin===t&&e.family.splice(i,1)},e.getQuery=function(){console.log("heading out from controller",e.searchObject),s.retrieveData(e.searchObject).then(function(){e.searchResults=s.peopleData(),e.gridOptions.data=e.searchResults})},e.makeFamily=function(){o.post("/data/family",e.family).then(function(e){console.log("response after making a family: ",e.data)})},r(function(){angular.element(document).find("nav").triggerHandler("click")},0)}function n(){this.first_name="",this.last_name="",this.email="",this.phone=""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$scope","DataService","uiGridConstants","$timeout","$http"]},function(e,t){"use strict";function i(e,t,i){e.logout=function(){console.log("logout button"),t.get("/logout").then(function(e){console.log("logout response",e),i.path("/login")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$scope","$http","$location"]},function(e,t){"use strict";function i(e,t,i){e.user={},e.submitRegistration=function(){console.log("data sent to server",e.user),t.post("/register",e.user).then(function(e){console.log("response is",e),200===e.status&&i.path("/login")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$scope","$http","$location"]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(13),o=n(r),s=i(14),a=n(s),l=i(15),d=n(l),c=i(16),u=n(c),f=i(17),m=n(f),p=i(18),g=n(p),v=i(19),y=n(v),h=i(20),b=n(h);t.default=function(){angular.module("app").directive("addAddressFromFamily",o.default).directive("createFamily",a.default).directive("displayMember",d.default).directive("editableAddress",u.default).directive("joinFamily",m.default).directive("profile",g.default).directive("registration",y.default).directive("searchForPeople",b.default)}},function(e,t){"use strict";function i(e,t,i){return{restrict:"E",scope:{nextPage:"&",reload:"&",familysAddresses:"="},templateUrl:"assets/views/directives/add-address-from-family.html",link:function(n){var r=i,o=e,s=t;n.$watch(s.getRegisteringMember,function(e){e.families&&e.families.length>0&&r.getMembersOfFamilies(e.families).then(function(e){return o.getFamilyMembersAddresses(e)}).then(function(t){n.familysAddresses=o.removeAddressesExistingInAnotherArray(t,e.addresses)})},!0),n.addAddress=function(){var e=s.getRegisteringMember();o.postPersonsAddress(e.pin,this.address.address_id).then(function(e){n.$emit("addAddressFromFamily"),n.reload()})}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["AddressService","MemberService","FamilyService"]},function(e,t){"use strict";function i(e){return{restrict:"E",scope:{address:"="},templateUrl:"assets/views/directives/create-family.html",controller:"CreateFamilyController"}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["AddressService"]},function(e,t){"use strict";function i(){return{restrict:"E",scope:{gridOptions:"=",data:"="},templateUrl:"assets/views/directives/display-members.html"}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["uiGridConstants"]},function(e,t){"use strict";function i(e,t){return{restrict:"E",scope:{address:"=",isDisabled:"=",addressExists:"=",nextPage:"&",reload:"&"},templateUrl:"assets/views/directives/editable-address.html",link:function(i){var n=e,r=t,o=Object.assign({},i.address);i.nextPageWrapper=function(){i.address={},i.nextPage()},i.submitRegistration=function(e){e.$valid&&(i.addressExists?n.updateAddress(i.address).then(function(e){i.isDisabled=!i.isDisabled,i.reload()}):(i.address.pin=r.getRegisteringMember().pin,n.postAddress(i.address).then(function(e){i.$emit("submitAddressForm"),i.reload(),i.nextPageWrapper()})))},i.cancel=function(){i.addressExists?(Object.assign(i.address,o),i.isDisabled=!i.isDisabled,i.$emit("submitAddressForm")):(i.nextPageWrapper(),i.$emit("submitAddressForm"))},i.skipAddress=function(){i.nextPageWrapper(),i.$emit("submitAddressForm")}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["AddressService","MemberService"]},function(e,t){"use strict";function i(e,t,i,n){function r(e){function r(){e.people=[],e.selectedPerson={},e.familyIsAdded=!1,e.familyMembersAddressDoesNotExist=!1,e.familyIsAdded=!1,e.addressIsAdded=!1,o()}function o(){a.getMembersByName().then(function(e){dataArray=e.data.sort(s)})}function s(e,t){return e.last_name<t.last_name?-1:e.last_name>t.last_name?1:0}var a=t,l=i,d=n;r(),e.nextPageWrapper=function(){r(),e.nextPage()},e.addToFamily=function(){console.log("selectedPerson",e),e.registeringMember=a.getRegisteringMember(),console.log("registeringMember, ",e.registeringMember),l.getFamilyIdByPin(e.selectedPerson.pin).then(function(t){var i=[{pin:e.registeringMember.pin}];t.length<1?l.makeFamily([e.selectedPerson,e.registeringMember]).then(function(t){console.log("family",t),e.familyIsAdded=!0}):l.addToFamilyByPin(i,t[0].family_id).then(function(t){console.log(t),e.familyIsAdded=!0})})},e.addAddress=function(){var i=t.getRegisteringMember();return e.selectedPerson?void d.getPersonsAddresses(e.selectedPerson).then(function(t){console.log("joinFamilyDirective from getPersonsAddresses",t[0]),t[0]?d.postPersonsAddress(i.pin,t[0].address_id).then(function(t){return e.addressIsAdded=!0,e.nextPage(),e.nextPageWrapper(),console.log(t),t}):e.familyMembersAddressDoesNotExist=!0}):console.log("no selected person")},e.updateSearch=function(){if(e.searchText.length>0){suggestionArray=[],e.people=[];for(var t=0;t<dataArray.length&&(0===angular.lowercase(dataArray[t].last_name).indexOf(angular.lowercase(e.searchText))&&suggestionArray.push(dataArray[t]),5!==suggestionArray.length);t++);suggestionArray.length>0&&(e.people=suggestionArray,console.log("s",e.people))}}}return{restrict:"E",scope:{nextPage:"&"},templateUrl:"assets/views/directives/join-family.html",link:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$http","MemberService","FamilyService","AddressService"]},function(e,t){"use strict";function i(e){return{restrict:"E",scope:{user:"="},templateUrl:"assets/views/directives/profile.html",link:function(t){var i=e,n=Object.assign({},t.user);t.isDisabled=!0,t.submitRegistration=function(e){e.$valid&&i.updateMember(t.user).then(function(e){t.isDisabled=!t.isDisabled,console.log(n.age)})},t.cancel=function(){Object.assign(t.user,n),t.isDisabled=!t.isDisabled}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["MemberService"]},function(e,t){"use strict";function i(e,t){function i(e){var i=t;e.user={email:"",firstName:"",lastName:"",gender:"",age:"",electronic_newsletter:"true"},e.submitRegistration=function(t){t.$valid&&i.postMember(e.user).then(function(t){e.nextPage(),e.user={},e.submitForm.$setPristine(),console.log("$setPristine should hav happened")})}}return{restrict:"E",scope:{nextPage:"&"},templateUrl:"assets/views/directives/registration.html",link:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$http","MemberService"]},function(e,t){"use strict";function i(e){return{restrict:"E",scope:{searchResult:"="},templateUrl:"assets/views/directives/search-for-people.html",link:function(t,i,n,r){function o(){this.first_name="",this.last_name="",this.email="",this.phone=""}t.searchResult=[],t.searchObject=new o,t.initialShow=!0,t.onOrOff=!1,t.toggle=function(){t.onOrOff=!t.onOrOff,t.initialShow=!1};var s=e;t.fetchData=function(e){s.retrieveData(e).then(function(){t.searchResult=s.peopleData()}),t.toggle()},t.fetchData(new o)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["DataService"]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(22),o=n(r),s=i(23),a=n(s),l=i(24),d=n(l),c=i(25),u=n(c),f=i(26),m=n(f),p=i(27),g=n(p);t.default=function(){angular.module("app").factory("ActiveMemberService",o.default).factory("AddressService",a.default).factory("AuthenticationRedirectInjector",d.default).factory("DataService",u.default).factory("FamilyService",m.default).factory("MemberService",g.default)}},function(e,t){"use strict";function i(e,t){function i(e){o=e}function n(){return o}var r={setActiveMember:i,getActiveMember:n},o={};return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$http","$q"]},function(e,t){"use strict";function i(e,t){function i(e){var i={params:e};return t.get("/address/people_and_addresses",i).then(function(e){return e.data})}function n(e){return t.put("/address",e).then(function(e){return e})}function r(e){return t.post("/address",e).then(function(e){return e})}function o(e,i){return t.post("/address/people_and_addresses",{pin:e,address_id:i}).then(function(e){return console.log("addressService postPersonsAddress says, ",e),e})}function s(i){for(var n=[],r=0;r<i.length;r++)console.log("getFamilyMembersAddresses person[i]",i[r]),n.push(t.get("/data/individual",{params:i[r]}));return e.all(n).then(function(e){for(var t=[],i=0;i<e.length;i++)t=t.concat(e[i].data.addresses);for(var i=0;i<t.length;i++)for(var n=i;n<t.length;n++)t[i].address_id==t[n].address_id&&i!=n&&t.splice(n,1);return console.log("concat method",t),t}).catch(function(e){console.log("err in addressService.getFamilyMembersAddresses",e)})}function a(e,t){return e.reduce(function(e,i){var n=t.find(function(e){return i.address_id==e.address_id});return n?null:e.push(i),e},[])}var l={getPersonsAddresses:i,updateAddress:n,postAddress:r,postPersonsAddress:o,getFamilyMembersAddresses:s,removeAddressesExistingInAnotherArray:a};return l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$q","$http"]},function(e,t){"use strict";function i(e){var t={responseError:function(t){console.log("injector, response",t),401===t.status&&e.path("/login")}};return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$location"]},function(e,t){"use strict";function i(e,t){function i(){return a=a||t.sessionStorage.getItem("activeMemberId")}function n(){return l=l||t.sessionStorage.getItem("activeFamilyId")}var r,o,s,a,l,d={retrieveData:function(e){return c(e)},peopleData:function(){return r},assignActiveFamilyIdApi:function(e){return p(e)},assignActiveMemberId:function(e){return m(e)},retrieveActiveMemberId:function(){return i()},retrieveActiveMember:function(){return u(i())},memberData:function(){return o},retrieveFamilyData:function(e){return f(n())},familyData:function(){return s}},c=function(t){console.log("heading out from factory",t);var i=e.get("/data",{params:t}).then(function(e){console.log("response from server",e.data),r=e.data});return i},u=function(t){var i={pin:t};console.log("heading out from factory on /data/individual: ",t);var n=e.get("/data/individual",{params:i}).then(function(e){o=e.data});return n},f=function(t){var i={family_id:t};console.log("heading out from factory on /data/family.  family_id: ",i);var n=e.get("/data/family",{params:i}).then(function(e){console.log("response from server",e.data),s=e.data});return n},m=function(e){console.log("from factory, setting member id to: ",e),a=e,t.sessionStorage.setItem("activeMemberId",a)},p=function(e){console.log("from factory, setting family id to: ",e),l=e,t.sessionStorage.setItem("activeFamilyId",l)};return d}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$http","$window"]},function(e,t){"use strict";function i(e,t){function i(t){var i={};return i.pin=t,console.log("getFamily pin param, ",i),e.get("/data/family/getFamilies",{params:i}).then(function(e){return console.log("family.get says: ",e.data),e.data})}function n(t,i){return e.post("/data/family/addPeople",{pinArray:t,familyId:i}).then(function(e){return console.log("familyService.addTFam says, ",e),e.data})}function r(t){return e.post("/data/family",t).then(function(e){return e.data})}function o(i){var n=[];return angular.forEach(i,function(t){n.push(e.get("/data/family/getFamilyMembers",{params:t}))}),t.all(n).then(function(e){return e[0].data}).catch(function(e){console.log("getfam err",e)})}var s={getFamilyIdByPin:i,addToFamilyByPin:n,makeFamily:r,getMembersOfFamilies:o};return s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$http","$q"]},function(e,t){"use strict";function i(e){function t(t){return e.put("/memberAdmin",t).then(function(e){return e})}function i(t){return e.post("/memberAdmin",t).then(function(e){return l=e.data,console.log("memberService registeringMember, ",l),l})}function n(t){return e.get("/memberAdmin",t).then(function(e){return e})}function r(){return l}function o(t){return e.delete("/memberAdmin",{params:{id:t}}).then(function(e){return console.log("from delete member",e),e.data[0][0].pin})}function s(e){return l=e}var a={updateMember:t,postMember:i,getMembersByName:n,getRegisteringMember:r,setRegisteringMember:s,deleteMember:o},l={};return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$http"]}]);
//# sourceMappingURL=bundle.js.map